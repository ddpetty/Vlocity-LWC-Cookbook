<!--
  "Selectable Items" LWC Component for Vlocity OmniScript
  @author Kirk Leibert
  @author Charles McGuinness
-->
<template>
  <article class="slds-card">
    <div class="slds-card__header slds-grid">
      <header class="slds-media slds-media_center slds-has-flexi-truncate">
        <div class="slds-media__figure">
          <span
            class="slds-icon_container slds-icon-standard-account"
            title="account"
          >
            <lightning-icon icon-name={iconName} size="medium"></lightning-icon>
            <!-- <span class="slds-assistive-text">account</span> -->
          </span>
        </div>
        <div class="slds-media__body">
          <h2 class="slds-card__header-title">
            <a
              href="javascript:void(0);"
              class="slds-card__header-link slds-truncate"
              title="Accounts"
            >
              <span>{title}</span>
            </a>
          </h2>
        </div>
        <!-- <div class="slds-no-flex">
				<button class="slds-button slds-button_neutral">New</button>
			  </div> -->
      </header>
    </div>

    <div class="slds-card__body slds-card__body_inner">
      <table
        class="table slds-table slds-table--bordered slds-table--cell-buffer"
        style="table-layout: auto;"
      >
        <thead>
          <tr>
            <template if:true={params_showSelect}>
              <th class="slds-cell-shrink">Select</th>
            </template>
            <template for:each={headers} for:item="header">
              <th key={header.key}>{header.value}</th>
            </template>
          </tr>
        </thead>
        <tbody class="ins">
          <template for:each={displayRows} for:item="displayrow">
            <tr key={displayrow.index}>
              <template if:true={params_showSelect}>
                <td class="slds-cell-shrink">
                  <lightning-input
                    type="checkbox"
                    variant="label-hidden"
                    checked={displayrow.checked}
                    name={displayrow.tagname}
                    data-key={displayrow.index}
                    label="dataCheckbox"
                    onchange={handleSelection}
                  >
                  </lightning-input>
                </td>
              </template>
              <template for:each={displayrow.columns} for:item="column">
                <td key={column.key}>{column.value}</td>
              </template>
            </tr>
          </template>
        </tbody>
      </table>
    </div>
  </article>
</template>